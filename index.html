<!DOCTYPE html>
<html ng-app="ccb">
  <head>
    <title>CCB compteur</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>

    <script src="index.js"></script>
    <script type='text/javascript'>
      var ccb = angular.module('ccb', []);
      ccb.controller('main', ['$scope', function($scope) {

        var theDate = new Date(2016, 11, 29);
        var now = new Date();
        var duration = 21
        var count = Math.round((theDate - now) / 1000 / 3600 / 24)

        if (count > 1) {
          $scope.message = 'Dans ' + count + ' jours !'
        } else if (count === 1) {
          $scope.message = 'Demain !'
        } else if (count === 0) {
          $scope.message = 'Maintenant !'
        } else if (count + duration >= 0) {
          $scope.message = 'On y est déjà !'
        } else {
          $scope.message = 'Bonne question...'
        }

        var images = [
          "http://www.reunion.fr/sites/crt-reunion/files/styles/gallery_lightbox/public/content/images/la_reunion_vue_du_ciel02_-_credit_irt_-_serge_gelabert_dts_12_2014.jpg?itok=f7jUZ9-9",
          "http://www.marseille.aeroport.fr/var/mpaeroport/storage/images/media/images/destinations/europe/france/reunion-1-mp/47293-1-fre-FR/reunion-1-mp.jpg",
          "http://www.bsp-auto.com/img/news/vue-de-la-reunion.jpg",
          "http://whc.unesco.org/uploads/thumbs/site_1317_0001-750-0-20100729150346.jpg",
          "http://www.holidayguru.fr/wp-content/uploads/2015/02/r%C3%A9union-2.jpg",
          "http://www.reunion.fr/sites/crt-reunion/files/styles/gallery_lightbox/public/content/images/montagne_mafate55_point_de_vue_cap_noir_roche_verre_bouteille_-_credit_irt_-_lionel_ghighi_dts_07_2017.jpg?itok=4UCRkRXj",
          "http://www.guide-reunion.fr/fileadmin/images/ile-de-la-reunion/video-img/reunion-drone-01.jpg",
          "http://www.club-faune.com/documents/Image/R%C3%A9union/Destination/Photos/la%20r%C3%A9union-cascade.jpg",
          "http://www.allonslareunion.com/reunion/slides/r_0021/0/0.jpg",
          "http://www.allonslareunion.com/reunion/slides/r_0021/0/4.jpg",
          "http://cilaosguide.reseau.re/partenaires/tofs/55/N/1.jpg",
          "http://tellmewhere.us/media/f/06EFDC1C-61D8-4028-8810-D7D256CCE33C.jpeg",
          "http://cilaosguide.reseau.re/partenaires/presentation/52N.jpg",
          "http://share.awp.advences.com/pack/imagespro/235/Reunion%20Trou%20de%20fer1.jpg",
          "http://azure.luxresorts.com/media/2749182/Hotel_Reunion_Island_LUX_Ile_de_La_Reunion_Aerial.jpg"
        ]

        var rand = Math.floor(images.length * Math.random())
        $scope.image = images[rand]

      }]);
    </script>

  </head>

  <body ng-controller="main">

    <div id="main" class="text-center row" style='margin-top:10px;'>
      <h1 style='padding:15px;'> {{message}} </h1>

      <img src="{{image}}" style='max-height:300px'>

    </div>
  </body>
</html>
